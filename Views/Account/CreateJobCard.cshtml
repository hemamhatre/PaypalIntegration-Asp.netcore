@using ChatValues.Web.Models
@model ChatValues.Web.Models.UserJobCard
@{
}
<div class="pro_view">
    
    <div class="bg_blue_light pull-left full_width">
        <div class="">
            <div class="padding_row">
                <div class="col-xs-12 col-md-9 col-lg-9">
                    <div class="top_sessions">
                        <div class="bg_w toggle_btn">
                            <button type="button" class="navbar-toggle collapsed pro_tBtn" data-toggle="collapse" data-target="#bs-example-navbar-collapse-3" aria-expanded="false">
                                <span class="sr-only">Toggle navigation</span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                            <div class="collapse navbar-collapse pro_nav" id="bs-example-navbar-collapse-3">

                            </div>
                            <!-- /.navbar-collapse -->
                            <div class="jobcard_btn">
                                <h3 class="home_heading text-center">
                                    CREATE YOUR JOB CARD
                                </h3>
                            </div>
                        </div>
                    </div>
                    <div class="tab-content clearfix">
                        <div class="tab-pane active" id="bought">
                            <div class="coloum_section">
                                <div class="wizard_bg" style="margin-left: 25px;">
                                    <div class="wizard">
                                        <div class="wizard-inner">
                                            <div class="connecting-line"></div>
                                            <ul class="nav nav-tabs" role="tablist">
                                                <li role="presentation" class="active">
                                                    <a href="#step1" data-toggle="tab" aria-controls="step1" role="tab" title="Step 1">
                                                        <span class="round-tab">
                                                            <i class="glyphicon glyphicon-user"></i>
                                                        </span>
                                                    </a>
                                                </li>
                                                <li role="presentation" class="disabled">
                                                    <a href="#step2" data-toggle="tab" aria-controls="step2" role="tab" title="Step 2">
                                                        <span class="round-tab">
                                                            <i class="glyphicon glyphicon-pencil"></i>
                                                        </span>
                                                    </a>
                                                </li>
                                                <li role="presentation" class="disabled">
                                                    <a href="#step3" data-toggle="tab" aria-controls="step3" role="tab" title="Step 3">
                                                        <span class="round-tab">
                                                            <i class="glyphicon glyphicon-picture"></i>
                                                        </span>
                                                    </a>
                                                </li>
                                                <li role="presentation" class="disabled">
                                                    <a href="#complete" data-toggle="tab" aria-controls="complete" role="tab" title="Complete">
                                                        <span class="round-tab">
                                                            <i class="glyphicon glyphicon-ok"></i>
                                                        </span>
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                        @using (Html.BeginForm("UpdateUser", "Account", FormMethod.Post))
                                        {
                                            @Html.HiddenFor(model => model.User.ID)
                                            <div class="tab-content form-group">
                                                <div class="tab-pane active" role="tabpanel" id="step1">

                                                    <div class="step1">
                                                        <div class="row">
                                                            <h4 class="text-center hed_bg">Verify your personal details</h4>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group has-success">
                                                                    <label for="name">Name</label>
                                                                    @*<input type="text" class="form-control valid" name="name" data-validation="required" style="">*@
                                                                    @Html.TextBoxFor(model => model.User.Name, new { @Class = "form-control valid" })
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <div class="form-group has-success">
                                                                    <label for="email">Email address</label>
                                                                    @*<input type="email" class="form-control valid" name="email" data-validation="email" style="">*@
                                                                    @Html.TextBoxFor(model => model.User.Email, new { @Class = "form-control valid", @readonly = "true" })
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group has-success">
                                                                    <label for="date">Date of Birth</label>
                                                                    <div class="date input-group">
                                                                        @*<input type="text" id="datepicker" class="form-control" data-validation="required">*@
                                                                        @Html.TextBoxFor(model => model.User.DateOfBirth, new { @Class = "form-control" })
                                                                        <span class="input-group-addon" id="start-date"><span class="glyphicon glyphicon-calendar"></span></span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <div class="form-group has-success">
                                                                    <label for="gender">My Gender</label>
                                                                    @*<select class="form-control" name="gender">
                                                                        <option value="">Select</option>
                                                                        <option value="male">Male</option>
                                                                        <option value="female">Female</option>
                                                                    </select>*@
                                                                    @{
                                                                        List<SelectListItem> selectList = new List<SelectListItem>();
                                                                        selectList.Add(new SelectListItem() { Text = "Select", Value = "Select", Selected = true });
                                                                        selectList.Add(new SelectListItem() { Text = "Male", Value = "Male" });
                                                                        selectList.Add(new SelectListItem() { Text = "Female", Value = "Female" });

                                                                    }
                                                                    @Html.DropDownListFor(model => model.User.Gender, selectList, new { @Class = "form-control" })
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group has-success">
                                                                    <label for="Mstatus">Marital Status</label>
                                                                    @*<select class="form-control" name="Mstatus">
                                                                        <option value="">Select</option>
                                                                        <option value="Single">Single</option>
                                                                        <option value="Married">Married</option>
                                                                    </select>*@
                                                                    @{
                                                                        List<SelectListItem> msSelectList = new List<SelectListItem>();
                                                                        msSelectList.Add(new SelectListItem() { Text = "Select", Value = "Select", Selected = true });
                                                                        msSelectList.Add(new SelectListItem() { Text = "Single", Value = "Single" });
                                                                        msSelectList.Add(new SelectListItem() { Text = "Married", Value = "Married" });

                                                                    }
                                                                    @Html.DropDownListFor(model => model.User.MaritalStatus, msSelectList, new { @Class = "form-control" })
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <div class="form-group has-success">
                                                                    <label for="zip">Zip Code</label>
                                                                    @*<input type="text" name="zip" class="form-control" placeholder="Zip Code">*@
                                                                    @Html.TextBoxFor(model => model.User.Pincode, new { @Class = "form-control" })
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group has-success">
                                                                    <label for="city">City</label>
                                                                    @Html.TextBoxFor(model => model.User.City, new { @Class = "form-control" })
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <div class="form-group has-success">
                                                                    <label for="country">Country</label>
                                                                    @*<select class="form-control" id="country" name="country">
                                                                        <option value="">Select</option>
                                                                        <option value="India">India</option>
                                                                        <option value="UAE">UAE</option>
                                                                        <option value="UK">UK</option>
                                                                        <option value="USA">USA</option>
                                                                    </select>*@
                                                                    @{
                                                                        List<SelectListItem> countrySelectList = new List<SelectListItem>();
                                                                        countrySelectList.Add(new SelectListItem() { Text = "Select", Value = "Select", Selected = true });
                                                                        countrySelectList.Add(new SelectListItem() { Text = "Australia", Value = "Australia" });
                                                                        countrySelectList.Add(new SelectListItem() { Text = "Canada", Value = "Canada" });
                                                                        countrySelectList.Add(new SelectListItem() { Text = "Europe", Value = "Europe" });
                                                                        countrySelectList.Add(new SelectListItem() { Text = "India", Value = "India" });
                                                                        countrySelectList.Add(new SelectListItem() { Text = "UAE", Value = "UAE" });
                                                                        countrySelectList.Add(new SelectListItem() { Text = "UK", Value = "UK" });
                                                                        countrySelectList.Add(new SelectListItem() { Text = "USA", Value = "USA" });
                                                                        countrySelectList.Add(new SelectListItem() { Text = "Other", Value = "Other" });
                                                                    }
                                                                    @Html.DropDownListFor(model => model.User.Country, countrySelectList, new { @Class = "form-control" })
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <ul class="list-inline pull-right mar_ned btn_float">
                                                        <li><button type="button" class="btn btn-primary next-step">Next</button></li>
                                                    </ul>
                                                </div>
                                                <div class="tab-pane" role="tabpanel" id="step2">
                                                    <div class="step2">
                                                        <div class="row">
                                                            <h4 class="text-center hed_bg">Select your interest for job card</h4>
                                                        </div>
                                                        <div class="step33 well">
                                                            <div class="row">
                                                                <div class="m-ddl">
                                                                    <div class="service-box">
                                                                        <div class="select-container">
                                                                            <select id="ddlInterest" name="ddlInterest" class="form-control">
                                                                                <option value="Select interest">Select interest</option>
                                                                                <option value="1">Education</option>
                                                                                <option value="2">Business</option>
                                                                                <option value="7">Fashion</option>
                                                                                <option value="8">Sports</option>
                                                                                <option value="9">Art and Design</option>
                                                                                <option value="10">Jobs</option>
                                                                                <option value="11">Properties</option>
                                                                                <option value="12">Games</option>
                                                                            </select>
                                                                            <input type="hidden" id="hdnSessionId" name="hdnSessionId" />
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <ul class="list-inline pull-right">
                                                        @*<li style="margin-bottom: 5px;"><button type="button" class="btn btn-default">Complete Profile Creation</button></li>*@
                                                        <li><button type="button" class="btn btn-default prev-step">Back</button></li>
                                                        @*<li>
                                                                <input type="submit" class="btn btn-primary" title="Submit" value="Submit" />
                                                            </li>*@
                                                        <li><button type="button" id="btnNextSession" name="btnNextSession" disabled class="btn btn-primary next-step">Next</button></li>
                                                    </ul>
                                                </div>
                                                <div class="tab-pane" role="tabpanel" id="step3">
                                                    <div class="step_21">
                                                        <div class="body_panal row well">
                                                            <h4 class="text-center hed_bg">Set your message template</h4>
                                                            <input name="rdoMessage" type="radio" value="0" onclick="document.getElementById('txtMessageTemplate').disabled = true; document.getElementById('btnStatusMessageNext').disabled = false;" /> 
                                                                <span id="sp0_message" name="sp0_message">
                                                                    Thanks a lot for your interest in my job. I will be in contact with you soon. To serve you better pls fill in this forma <a href="http://www.sampleformas.com/forma3">www.sampleformas.com/forma3</a> and kindly message it back to me.
                                                                </span>
                                                            <br />
                                                            <input name="rdoMessage" type="radio" value="1" onclick="document.getElementById('txtMessageTemplate').disabled = true; document.getElementById('btnStatusMessageNext').disabled = false;" /> 
                                                            <span id="sp1_message" name="sp1_message">
                                                                Thanks a lot for your interest. I will be in contact with you soon.
                                                            </span>
                                                            <br />
                                                            <input name="rdoMessage" type="radio" value="2" onclick="document.getElementById('txtMessageTemplate').disabled = false; document.getElementById('btnStatusMessageNext').disabled = false;" /> Type your custom message below <br />
                                                            <textarea class="form-control" id="txtMessageTemplate" name="txtMessageTemplate" disabled></textarea>
                                                        </div>
                                                        <div class="clear"></div>
                                                    </div>
                                                    <ul class="list-inline pull-right">
                                                        <li><button type="button" class="btn btn-default prev-step">Previous</button></li>
                                                        <li><button type="button" onclick="return ValidateMessage()" class="btn btn-default next-step" id="btnStatusMessageNext" disabled>Next</button></li>
                                                        <!-- <li><button type="button" class="btn btn-default next-step">Skip</button></li> -->
                                                        @*<li><input type="submit" class="btn btn-primary" title="Submit" value="Submit" /></li>*@
                                                    </ul>
                                                </div>
                                                <div class="tab-pane" role="tabpanel" id="complete">
                                                    <div class="step44">
                                                        <div class="body_panal row well">
                                                            <h4 class="text-center hed_bg text-center">Enter your job card details</h4>
                                                            <div class="jobcard_bg bg_sBlue">
                                                                <div class="Jobcard_SubMenu">
                                                                    <div class="form-addJob">
                                                                        <div class="form-group">
                                                                            <label for="" class="col-sm-3 control-label padding_Jobform">JOB CARD TITLE :</label>
                                                                            <div class="col-sm-9 padding_Jobform">
                                                                                @*<textarea type="text" class="form-control" id="" placeholder=""> </textarea>*@
                                                                                @Html.TextAreaFor(model => model.JobCard.Title, new { @Class = "form-control" })
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <label for="" class="col-sm-3 control-label padding_Jobform">DESCRIPTION :</label>
                                                                            <div class="col-sm-9 padding_Jobform">
                                                                                @*<textarea type="text" class="form-control" id="" placeholder=""> </textarea>*@
                                                                                @Html.TextAreaFor(model => model.JobCard.Description, new { @Class = "form-control" })
                                                                            </div>
                                                                        </div>
                                                                          <div class="form-group">
                                                                            <label for="" class="col-sm-3 control-label padding_Jobform">VOUCHER VALUE :</label>
                                                                            <div class="col-sm-9 padding_Jobform">
                                                                                @*<textarea type="text" class="form-control" id="" placeholder=""> </textarea>*@
                                                                                @Html.TextBoxFor(model => model.JobCard.VoucherValue, new { @Class = "form-control" })
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <input type="checkbox" id="chkTerms" name="chkTerms" value="chkTerms" /> I agree to the ChatValues <a href="#" data-toggle="modal" data-target="#termsModal">terms and conditions</a>.
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <label for="" class="col-sm-3 control-label padding_Jobform">UPLOAD PHOTOS :</label>
                                                                            <div class="col-sm-9 padding_Jobform">
                                                                                <div class="upload_btn">
                                                                                    <i class="glyphicon glyphicon-plus"></i>
                                                                                    <input type="file" id="profileFiles" name="profileFiles" class="hide_file" multiple accept="image/*">
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="clear"></div>
                                                                </div>
                                                            </div>
                                                            <ul class="list-inline pull-right">
                                                                <li><button type="button" class="btn btn-default prev-step">Previous</button></li>
                                                                <li><button type="submit" class="btn btn-default blue_btn_job" disabled id="btnSaveJobCard">Create job card</button></li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="clearfix"></div>
                                            </div>
                                        }
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- / End .col-md-8 -->
                <div class="col-xs-12 col-md-3 col-lg-3">
                    <div class="col-xs-12 no-padding">
                        <img class="advertisement_banner" src="~/images/advertisement_banner.png" alt="" />
                    </div>
                    <div class="clear"></div>
                    @await Component.InvokeAsync("OnlineUserWP")
                    <div class="col-xs-12 no-padding">
                        <img class="advertisement_banner" src="~/images/advertisement_banner.png" alt="" />
                    </div>
                </div>
                <!-- / End .col-md-4 -->
            </div>
            <!-- / End .padding_row -->
        </div>
    </div>
</div>

<!-- Terms & Conditions -->
<div id="termsModal" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Terms and conditions</h4>
            </div>
            <div class="modal-body">
                We wish you carefully read:
                <ul>
                    <li>Redemption of your sold out vouchers is subject to your client satisfaction. Your on time answers and quality services will make a better clients network and better earning as a consequence.</li>
                    <li>You would have one week to complete your job after your job card is sold out.</li>
                    <li>Vouchers prices and service charges and also few days needed for redemption.</li>
                    <li>Fraud protection</li>
                </ul>
            </div>
            <div class="modal-footer">
                <button type="button" id="btnAgreeTerms" class="btn btn-default" data-dismiss="modal">Agree</button>
                <button type="button" id="btnDisagreeTerms" class="btn btn-default" data-dismiss="modal">Disagree</button>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        // With Bottom Popover
        $('#CustomDDL').popSelect({
            showTitle: false,
            placeholderText: 'Click to Add More',
            position: 'bottom'
        });

        $('#btnAgreeTerms').click(function () {
            $('#chkTerms').prop('checked', true);
            $('#btnSaveJobCard').prop('disabled', false);
        });

        $('#btnDisagreeTerms').click(function () {
            $('#chkTerms').prop('checked', false);
            $('#btnSaveJobCard').prop('disabled', true);
        });

        $('#chkTerms').change(function () {
            debugger;
            if ($(this).is(":checked")) {
                $('#btnSaveJobCard').prop('disabled', false);
            }
            else {
                $('#btnSaveJobCard').prop('disabled', true);
            }
        });
    });
</script>
<script>
    $('#Password').on('keyup', function () {
        //debugger;
        if ($(this).val() == $('#confirm_password').val()) {
            $('#message').html('Password matching').css('color', 'green');
        } else $('#message').html('Password does not match').css('color', '#a94442');
    });

    $('#confirm_password').on('keyup', function () {
        debugger;
        if ($(this).val() == $('#Password').val()) {
            $('#message').html('Password matching').css('color', 'green');
        } else $('#message').html('Password does not match').css('color', '#a94442');
    });

    $('#Password').on('focusout', function () {
        //debugger;
        if ($(this).val() != $('#confirm_password').val()) {
            $('#message').show();
        }
        else $('#message').hide();
    });

    $('#confirm_password').on('focusout', function () {
        debugger;
        if ($(this).val() != $('#Password').val()) {
            $('#message').show();
        }
        else $('#message').hide();
    });

    $('#confirm_password').on('focusin', function () {
        debugger;
        $('#message').show();
    });

    $('#Password').on('focusin', function () {
        //debugger;
        $('#message').show();
    });

</script>

<script>
    $(document).ready(function () {
        var dtInit = $("#User_DateOfBirth").val();
        dtInit = dtInit.substr(0, 10);
        
        $("#User_DateOfBirth").datepicker({
            dateFormat: "dd-mm-yy",
            changeMonth: true,
            changeYear: true,
            maxDate: 0,
            yearRange: '1950:' + new Date().getFullYear().toString()
        });
        $("#User_DateOfBirth").focus(function () {
            $("#User_DateOfBirth").datepicker("show");
        });
        $("#User_DateOfBirth").val(dtInit);

        $('#ddlInterest').change(function () {
            var sessionId = $('#ddlInterest').val();
            if (sessionId == "Select interest") {
                alert('Please select a valid interest');
                $('#btnNextSession').attr("disabled", true);
            }
            else {
                $.ajax({
                    url: '@Url.Action("CheckSession", "Account")' + '/' + sessionId,
                    method: "GET",
                }).success(function (data) {
                    debugger;
                    if (data.SessionExists != true) {
                        var r = confirm('Session is not matching with the field of interest as per your profile. Continue?')
                        if (r == false) {
                            $('#ddlInterest').val("Select interest");
                            $('#btnNextSession').attr("disabled", true);
                        }
                        else {
                            $('#btnNextSession').attr("disabled", false);
                            $('#hdnSessionId').val(sessionId);
                        }
                    }
                });
            }
        });
    });

    function ValidateMessage() {
        if ($('#rdoMessage').val() == '2' && $('#txtMessageTemplate').val() == '') {
            alert('Please enter your custom message template.');
            return false;
        }
        else {
            return true;
        }
    }
</script>
